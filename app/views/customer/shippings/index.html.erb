<%= render 'customer/customer_header' %>
<div class="container">
 <div class= "row">
 <!--エラーメッセージ表示 -->
      <% if @shipping.errors.any? %>
      <div id="error_explanation">
        <h3><%= pluralize(@shipping.errors.count, "error") %> prohibited this obj from being saved:</h3>
        <ul>
          <% @shipping.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %> 
    
 <!--投稿サクセスメッセージ表示 --> 
 <notice><%=notice %></notice> 
   <h2 class="tag">配送先登録/一覧</h2>
 <!--配送先新規登録画面 -->
     <%= form_with model:@shipping, local:true do |f| %>
      <div class = "row form-group">
        <label class="col-xs-3 control-label" > 郵便番号(ハイフンなし)</label>
        <div class="col-xs-2">
        <%= f.text_field :postcode, class: "form-control", autofocus: true, autocomplete: "postcode", placeholder: "郵便番号"    %>
        </div>
      </div>
      
      <div class = "row form-group">
        <label class="col-xs-3 control-label" > 住所</label>
        <div class="col-xs-4">
        <%= f.text_field :address, class: "form-control", autofocus: true, autocomplete: "address", placeholder: "住所"    %>
        </div>
      </div>
      
       <div class = "row form-group">
        <label class="col-xs-3 control-label" > 宛名</label>
        <div class="col-xs-2">
        <%= f.text_field :name, class: "form-control", autofocus: true, autocomplete: "", placeholder: "宛名"    %>
        </div>
      </div>
      
      <div class="row form-group">
        <div class="col-xs-2 col-xs-offset-6">
          <%= f.submit "登録する", class: "btn btn-success btn-block" %>
        </div>
      </div>
<% end %>

     <!--配送先一覧画面 -->
     <div class="col-xs-3">
      <table class="table">
      <!--配送先一覧画面 一段目-->
       <thead class="thead bg-primary">
       <tr>
        <th>郵便番号</th>
        <th>住所</th>
        <th>宛名</th>
        <th></th>
       <tr>
       <thead>
        
        <!--配送先一覧画面 二段目以降-->
       <tbody class ="tbody bg-default">
        <% @shippings.each do |shipping| %>
        <tr>
        <th><%= shippoing.postcode%></th>
        <th><%= shipping.address %></th>
        <th><%= shipping.name %></th>
        <th>
         <span><%= link_to '編集する', edit_shipping_path(shipping.id), class: "btn btn-primary"%></span>
         <span><%= link_to '削除する', shipping_path(shipping.id), method: :delete, class: "btn btn-danger" %></span>
        </th>
       <tr>
        <% end %>
       </tbody>
   </table>
 </div>

 </div>
</div>
<%= render 'customer/footer' %>